# Приложение для работы с геоданными в PostgreSQL

## Приложение позволяет:
1. Найти ближайший к заданной точке магазин.
2. Получить список магазинов в порядке близости к заданной точке.
3. Найти город, в котором расположен данный магазин.
4. Найти все магазины, которые расположены в пределах прямоугольника (в качестве параметров передаются 2 его вершины).

## Использованные технологии: 
Spring Web, Spring Data, Hibernate Spatial, Postgis, Liquibase.</br>

Также проект включает тесты контроллера, сервиса и репозитория. </br>
Тестирование репозитория реализовано с помощью библиотеки Testcontainers и Docker.</br>

Проект написан на основе доклада Павла Кислова "Урок географии для Java-разработчиков. География и Java в одном чайнике"</br>
Joker 2022: <https://youtu.be/bimz9dRfhng></br>
И статьи: <https://habr.com/ru/companies/domclick/articles/558876/></br>

## Список URL, реализованных в API

- **GET /api/shops/distance/closest/:lat/:lon**</br>
Параметры: "lat" double (географическая широта), "lon" double (географическая долгота) </br>
- Найти ближайший к заданной точке (lat, lon) магазин.</br></br>
- **GET /api/shops/distance/all/:lat/:lon**</br>
- Получить список магазинов в порядке близости к заданной точке (lat, lon).</br></br>
- **GET /api/shops/viewport/:xMax/:yMax/:xMin/yMin** </br>
- Найти все магазины, которые расположены в пределах прямоугольника </br>(в качестве параметров передаются 2е его вершины (xMax, yMax) и (xMin, yMin).</br></br>
- **GET /api/cities/withshop/:lat/:lon** </br>
- Найти город, в котором расположен данный магазин (lat, lon).
